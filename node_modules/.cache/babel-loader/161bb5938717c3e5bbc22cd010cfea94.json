{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events').EventEmitter;\n\nconst Timers = require('timers');\n\nclass Command extends EventEmitter {\n  constructor() {\n    super();\n    this.next = null;\n  } // slow. debug only\n\n\n  stateName() {\n    const state = this.next;\n\n    for (const i in this) {\n      if (this[i] === state && i !== 'next') {\n        return i;\n      }\n    }\n\n    return 'unknown name';\n  }\n\n  execute(packet, connection) {\n    if (!this.next) {\n      this.next = this.start;\n\n      connection._resetSequenceId();\n    }\n\n    if (packet && packet.isError()) {\n      const err = packet.asError(connection.clientEncoding);\n      err.sql = this.sql || this.query;\n\n      if (this.queryTimeout) {\n        Timers.clearTimeout(this.queryTimeout);\n        this.queryTimeout = null;\n      }\n\n      if (this.onResult) {\n        this.onResult(err);\n        this.emit('end');\n      } else {\n        this.emit('error', err);\n        this.emit('end');\n      }\n\n      return true;\n    } // TODO: don't return anything from execute, it's ugly and error-prone. Listen for 'end' event in connection\n\n\n    this.next = this.next(packet, connection);\n\n    if (this.next) {\n      return false;\n    }\n\n    this.emit('end');\n    return true;\n  }\n\n}\n\nmodule.exports = Command;","map":{"version":3,"names":["EventEmitter","require","Timers","Command","constructor","next","stateName","state","i","execute","packet","connection","start","_resetSequenceId","isError","err","asError","clientEncoding","sql","query","queryTimeout","clearTimeout","onResult","emit","module","exports"],"sources":["/home/emilio/√Årea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/mysql2/lib/commands/command.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events').EventEmitter;\nconst Timers = require('timers');\n\nclass Command extends EventEmitter {\n  constructor() {\n    super();\n    this.next = null;\n  }\n\n  // slow. debug only\n  stateName() {\n    const state = this.next;\n    for (const i in this) {\n      if (this[i] === state && i !== 'next') {\n        return i;\n      }\n    }\n    return 'unknown name';\n  }\n\n  execute(packet, connection) {\n    if (!this.next) {\n      this.next = this.start;\n      connection._resetSequenceId();\n    }\n    if (packet && packet.isError()) {\n      const err = packet.asError(connection.clientEncoding);\n      err.sql = this.sql || this.query;\n      if (this.queryTimeout) {\n        Timers.clearTimeout(this.queryTimeout);\n        this.queryTimeout = null;\n      }\n      if (this.onResult) {\n        this.onResult(err);\n        this.emit('end');\n      } else {\n        this.emit('error', err);\n        this.emit('end');\n      }\n      return true;\n    }\n    // TODO: don't return anything from execute, it's ugly and error-prone. Listen for 'end' event in connection\n    this.next = this.next(packet, connection);\n    if (this.next) {\n      return false;\n    } \n    this.emit('end');\n    return true;\n    \n  }\n}\n\nmodule.exports = Command;\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,YAAvC;;AACA,MAAME,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAME,OAAN,SAAsBH,YAAtB,CAAmC;EACjCI,WAAW,GAAG;IACZ;IACA,KAAKC,IAAL,GAAY,IAAZ;EACD,CAJgC,CAMjC;;;EACAC,SAAS,GAAG;IACV,MAAMC,KAAK,GAAG,KAAKF,IAAnB;;IACA,KAAK,MAAMG,CAAX,IAAgB,IAAhB,EAAsB;MACpB,IAAI,KAAKA,CAAL,MAAYD,KAAZ,IAAqBC,CAAC,KAAK,MAA/B,EAAuC;QACrC,OAAOA,CAAP;MACD;IACF;;IACD,OAAO,cAAP;EACD;;EAEDC,OAAO,CAACC,MAAD,EAASC,UAAT,EAAqB;IAC1B,IAAI,CAAC,KAAKN,IAAV,EAAgB;MACd,KAAKA,IAAL,GAAY,KAAKO,KAAjB;;MACAD,UAAU,CAACE,gBAAX;IACD;;IACD,IAAIH,MAAM,IAAIA,MAAM,CAACI,OAAP,EAAd,EAAgC;MAC9B,MAAMC,GAAG,GAAGL,MAAM,CAACM,OAAP,CAAeL,UAAU,CAACM,cAA1B,CAAZ;MACAF,GAAG,CAACG,GAAJ,GAAU,KAAKA,GAAL,IAAY,KAAKC,KAA3B;;MACA,IAAI,KAAKC,YAAT,EAAuB;QACrBlB,MAAM,CAACmB,YAAP,CAAoB,KAAKD,YAAzB;QACA,KAAKA,YAAL,GAAoB,IAApB;MACD;;MACD,IAAI,KAAKE,QAAT,EAAmB;QACjB,KAAKA,QAAL,CAAcP,GAAd;QACA,KAAKQ,IAAL,CAAU,KAAV;MACD,CAHD,MAGO;QACL,KAAKA,IAAL,CAAU,OAAV,EAAmBR,GAAnB;QACA,KAAKQ,IAAL,CAAU,KAAV;MACD;;MACD,OAAO,IAAP;IACD,CApByB,CAqB1B;;;IACA,KAAKlB,IAAL,GAAY,KAAKA,IAAL,CAAUK,MAAV,EAAkBC,UAAlB,CAAZ;;IACA,IAAI,KAAKN,IAAT,EAAe;MACb,OAAO,KAAP;IACD;;IACD,KAAKkB,IAAL,CAAU,KAAV;IACA,OAAO,IAAP;EAED;;AA9CgC;;AAiDnCC,MAAM,CAACC,OAAP,GAAiBtB,OAAjB"},"metadata":{},"sourceType":"script"}