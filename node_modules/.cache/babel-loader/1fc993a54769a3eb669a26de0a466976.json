{"ast":null,"code":"import _regeneratorRuntime from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useState}from\"react\";import DescriptionWithLink from\"../shared/description_with_links\";import GrayImg from\"../shared/gray_img\";import Form from'./form';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getPlanet(_x){return _getPlanet.apply(this,arguments);}function _getPlanet(){_getPlanet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://ebutz.live/api/\".concat(id,\".json\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getPlanet.apply(this,arguments);}var Planet=function Planet(){document.body.style.marginLeft='10%';document.body.style.marginRight='10%';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),satellites=_useState2[0],setSattelites=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),planet=_useState4[0],setPlanet=_useState4[1];var _useParams=useParams(),id=_useParams.id;var history=useNavigate();useEffect(function(){document.body.style.marginLeft='4rem';document.body.style.marginRight='4rem';getPlanet(id).then(function(data){setSattelites(data['satellites']);setPlanet(data['data']);});},[id]);var title=/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"u\",{children:planet.name})});var goToHome=function goToHome(){history('/');};var addSattelites=function addSattelites(new_sattelite){setSattelites([].concat(_toConsumableArray(satellites),[new_sattelite]));};return/*#__PURE__*/_jsxs(\"div\",{children:[title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(DescriptionWithLink,{description:planet.description,link:planet.link}),/*#__PURE__*/_jsx(GrayImg,{img_url:planet.img_url,gray:planet.gray}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Form,{class:\"fields\",addSattelites:addSattelites}),/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Satellites:\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"ul\",{children:satellites.map(function(satellite,index){return/*#__PURE__*/_jsx(\"li\",{children:satellite.name},index);})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:goToHome,children:\"Voltar\"})]});};export default Planet;","map":{"version":3,"names":["React","useEffect","useState","DescriptionWithLink","GrayImg","Form","useParams","useNavigate","getPlanet","id","fetch","response","json","data","Planet","document","body","style","marginLeft","marginRight","satellites","setSattelites","planet","setPlanet","history","then","title","name","goToHome","addSattelites","new_sattelite","description","link","img_url","gray","map","satellite","index"],"sources":["/home/emilio/Área de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/src/components/planet/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport DescriptionWithLink from \"../shared/description_with_links\";\nimport GrayImg from \"../shared/gray_img\";\nimport Form from './form'\nimport { useParams, useNavigate } from 'react-router-dom';\n\n\n\nasync function getPlanet(id) {\n    let response = await fetch(`http://ebutz.live/api/${id}.json`)\n    let data = await response.json()\n    return data;\n}\n\nconst Planet = () => {\n\n    document.body.style.marginLeft = '10%'\n    document.body.style.marginRight = '10%'\n\n    const [satellites, setSattelites] = useState([])\n    const [planet, setPlanet] = useState({})\n    let { id } = useParams();\n    let history = useNavigate();\n\n    useEffect(() => {\n        document.body.style.marginLeft = '4rem';\n        document.body.style.marginRight = '4rem';\n\n        getPlanet(id).then(data => {\n            setSattelites(data['satellites'])\n            setPlanet(data['data'])\n        })\n    }, [id])\n\n\n    let title = <h4><u>{planet.name}</u></h4>\n\n    const goToHome = () => {\n        history('/')\n    }\n\n\n    const addSattelites = (new_sattelite) => {\n        setSattelites([...satellites, new_sattelite])\n    }\n\n    return (\n\n        <div>            \n            {title}\n            <br />\n            <DescriptionWithLink description={planet.description} link={planet.link} />\n            <GrayImg img_url={planet.img_url} gray={planet.gray} />\n            <hr />\n            <Form class=\"fields\" addSattelites={addSattelites}>\n            </Form>\n            <h4><b>Satellites:</b></h4>\n            <br />\n            <ul>\n                {satellites.map((satellite, index) =>\n                    <li key={index}>{satellite.name}</li>\n                )}\n            </ul>\n            <hr />\n            <button type='button' onClick={goToHome}>Voltar</button>\n        </div>\n    )\n}\n\nexport default Planet;"],"mappings":"4vBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,oBAAP,KAAgC,kCAAhC,CACA,MAAOC,QAAP,KAAoB,oBAApB,CACA,MAAOC,KAAP,KAAiB,QAAjB,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,C,gGAIeC,U,yIAAf,iBAAyBC,EAAzB,4JACyBC,MAAK,iCAA0BD,EAA1B,UAD9B,QACQE,QADR,qCAEqBA,SAAQ,CAACC,IAAT,EAFrB,QAEQC,IAFR,+CAGWA,IAHX,wD,4CAMA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CAEjBC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,UAApB,CAAiC,KAAjC,CACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBE,WAApB,CAAkC,KAAlC,CAEA,cAAoCjB,QAAQ,CAAC,EAAD,CAA5C,wCAAOkB,UAAP,eAAmBC,aAAnB,eACA,eAA4BnB,QAAQ,CAAC,EAAD,CAApC,yCAAOoB,MAAP,eAAeC,SAAf,eACA,eAAajB,SAAS,EAAtB,CAAMG,EAAN,YAAMA,EAAN,CACA,GAAIe,QAAO,CAAGjB,WAAW,EAAzB,CAEAN,SAAS,CAAC,UAAM,CACZc,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,UAApB,CAAiC,MAAjC,CACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBE,WAApB,CAAkC,MAAlC,CAEAX,SAAS,CAACC,EAAD,CAAT,CAAcgB,IAAd,CAAmB,SAAAZ,IAAI,CAAI,CACvBQ,aAAa,CAACR,IAAI,CAAC,YAAD,CAAL,CAAb,CACAU,SAAS,CAACV,IAAI,CAAC,MAAD,CAAL,CAAT,CACH,CAHD,EAIH,CARQ,CAQN,CAACJ,EAAD,CARM,CAAT,CAWA,GAAIiB,MAAK,cAAG,iCAAI,mBAAIJ,MAAM,CAACK,IAAX,EAAJ,EAAZ,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnBJ,OAAO,CAAC,GAAD,CAAP,CACH,CAFD,CAKA,GAAMK,cAAa,CAAG,QAAhBA,cAAgB,CAACC,aAAD,CAAmB,CACrCT,aAAa,8BAAKD,UAAL,GAAiBU,aAAjB,GAAb,CACH,CAFD,CAIA,mBAEI,uBACKJ,KADL,cAEI,aAFJ,cAGI,KAAC,mBAAD,EAAqB,WAAW,CAAEJ,MAAM,CAACS,WAAzC,CAAsD,IAAI,CAAET,MAAM,CAACU,IAAnE,EAHJ,cAII,KAAC,OAAD,EAAS,OAAO,CAAEV,MAAM,CAACW,OAAzB,CAAkC,IAAI,CAAEX,MAAM,CAACY,IAA/C,EAJJ,cAKI,aALJ,cAMI,KAAC,IAAD,EAAM,KAAK,CAAC,QAAZ,CAAqB,aAAa,CAAEL,aAApC,EANJ,cAQI,iCAAI,kCAAJ,EARJ,cASI,aATJ,cAUI,oBACKT,UAAU,CAACe,GAAX,CAAe,SAACC,SAAD,CAAYC,KAAZ,qBACZ,oBAAiBD,SAAS,CAACT,IAA3B,EAASU,KAAT,CADY,EAAf,CADL,EAVJ,cAeI,aAfJ,cAgBI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAET,QAA/B,oBAhBJ,GAFJ,CAqBH,CArDD,CAuDA,cAAed,OAAf"},"metadata":{},"sourceType":"module"}