{"ast":null,"code":"import _regeneratorRuntime from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useState}from\"react\";import DescriptionWithLink from\"../../shared/description_with_links\";import GrayImg from\"../../shared/gray_img\";import Form from'./form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getSattelites(_x){return _getSattelites.apply(this,arguments);}function _getSattelites(){_getSattelites=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/api/\".concat(id,\".json\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getSattelites.apply(this,arguments);}var Planet=function Planet(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),satellites=_useState2[0],setSattelites=_useState2[1];useEffect(function(){getSattelites(props.id).then(function(data){setSattelites(data['satellites']);});},[props.id]);var title=/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"u\",{children:props.name})});var addSattelites=function addSattelites(new_sattelite){setSattelites([].concat(_toConsumableArray(satellites),[new_sattelite]));};return/*#__PURE__*/_jsxs(\"div\",{children:[title,/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(DescriptionWithLink,{description:props.description,link:props.link}),/*#__PURE__*/_jsx(GrayImg,{img_url:props.img_url,gray:props.gray}),/*#__PURE__*/_jsx(\"h4\",{children:\"Satellites\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Form,{addSattelites:addSattelites}),/*#__PURE__*/_jsx(\"ul\",{children:satellites.map(function(satellite,index){return/*#__PURE__*/_jsx(\"li\",{children:satellite.name},index);})}),/*#__PURE__*/_jsx(\"hr\",{})]});};export default Planet;","map":{"version":3,"names":["React","useEffect","useState","DescriptionWithLink","GrayImg","Form","getSattelites","id","fetch","response","json","data","Planet","props","satellites","setSattelites","then","title","name","addSattelites","new_sattelite","description","link","img_url","gray","map","satellite","index"],"sources":["/home/emilio/Área de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/src/components/planets/planet/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport DescriptionWithLink from \"../../shared/description_with_links\";\nimport GrayImg from \"../../shared/gray_img\";\nimport Form from './form'\n\nasync function getSattelites(id) {\n    let response = await fetch(`http://localhost:3000/api/${id}.json`)\n    let data = await response.json()\n    return data;\n}\n\nconst Planet = (props) => {\n    const [satellites, setSattelites] = useState([])\n\n    useEffect(() => {\n        getSattelites(props.id).then(data => {\n            setSattelites(data['satellites'])\n        })\n    }, [props.id])\n\n\n    let title = <h4><u>{props.name}</u></h4>\n\n\n    const addSattelites = (new_sattelite) => {\n        setSattelites([...satellites, new_sattelite])\n    }\n\n    return (\n\n        <div>\n            {title}\n            <p />\n            <DescriptionWithLink description={props.description} link={props.link} />\n            <GrayImg img_url={props.img_url} gray={props.gray} />\n            <h4>Satellites</h4>\n            <hr />\n            <Form addSattelites={addSattelites}>\n            </Form>\n            <ul>\n                {satellites.map((satellite, index) =>\n                    <li key={index}>{satellite.name}</li>\n                )}\n            </ul>\n\n            <hr />\n        </div>\n    )\n}\n\nexport default Planet;"],"mappings":"oqBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,oBAAP,KAAgC,qCAAhC,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,gGAEeC,c,qJAAf,iBAA6BC,EAA7B,4JACyBC,MAAK,qCAA8BD,EAA9B,UAD9B,QACQE,QADR,qCAEqBA,SAAQ,CAACC,IAAT,EAFrB,QAEQC,IAFR,+CAGWA,IAHX,wD,gDAMA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACtB,cAAoCX,QAAQ,CAAC,EAAD,CAA5C,wCAAOY,UAAP,eAAmBC,aAAnB,eAEAd,SAAS,CAAC,UAAM,CACZK,aAAa,CAACO,KAAK,CAACN,EAAP,CAAb,CAAwBS,IAAxB,CAA6B,SAAAL,IAAI,CAAI,CACjCI,aAAa,CAACJ,IAAI,CAAC,YAAD,CAAL,CAAb,CACH,CAFD,EAGH,CAJQ,CAIN,CAACE,KAAK,CAACN,EAAP,CAJM,CAAT,CAOA,GAAIU,MAAK,cAAG,iCAAI,mBAAIJ,KAAK,CAACK,IAAV,EAAJ,EAAZ,CAGA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,aAAD,CAAmB,CACrCL,aAAa,8BAAKD,UAAL,GAAiBM,aAAjB,GAAb,CACH,CAFD,CAIA,mBAEI,uBACKH,KADL,cAEI,YAFJ,cAGI,KAAC,mBAAD,EAAqB,WAAW,CAAEJ,KAAK,CAACQ,WAAxC,CAAqD,IAAI,CAAER,KAAK,CAACS,IAAjE,EAHJ,cAII,KAAC,OAAD,EAAS,OAAO,CAAET,KAAK,CAACU,OAAxB,CAAiC,IAAI,CAAEV,KAAK,CAACW,IAA7C,EAJJ,cAKI,kCALJ,cAMI,aANJ,cAOI,KAAC,IAAD,EAAM,aAAa,CAAEL,aAArB,EAPJ,cASI,oBACKL,UAAU,CAACW,GAAX,CAAe,SAACC,SAAD,CAAYC,KAAZ,qBACZ,oBAAiBD,SAAS,CAACR,IAA3B,EAASS,KAAT,CADY,EAAf,CADL,EATJ,cAeI,aAfJ,GAFJ,CAoBH,CArCD,CAuCA,cAAef,OAAf"},"metadata":{},"sourceType":"module"}