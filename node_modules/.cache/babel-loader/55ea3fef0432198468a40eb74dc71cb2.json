{"ast":null,"code":"'use strict';\n\nconst net = require('net');\n\nconst EventEmitter = require('events').EventEmitter;\n\nconst Connection = require('./connection');\n\nconst ConnectionConfig = require('./connection_config'); // TODO: inherit Server from net.Server\n\n\nclass Server extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = [];\n    this._server = net.createServer(this._handleConnection.bind(this));\n  }\n\n  _handleConnection(socket) {\n    const connectionConfig = new ConnectionConfig({\n      stream: socket,\n      isServer: true\n    });\n    const connection = new Connection({\n      config: connectionConfig\n    });\n    this.emit('connection', connection);\n  }\n\n  listen(port) {\n    this._port = port;\n\n    this._server.listen.apply(this._server, arguments);\n\n    return this;\n  }\n\n  close(cb) {\n    this._server.close(cb);\n  }\n\n}\n\nmodule.exports = Server;","map":{"version":3,"names":["net","require","EventEmitter","Connection","ConnectionConfig","Server","constructor","connections","_server","createServer","_handleConnection","bind","socket","connectionConfig","stream","isServer","connection","config","emit","listen","port","_port","apply","arguments","close","cb","module","exports"],"sources":["/home/emilio/√Årea de Trabalho/OneBitCode-aulas/REACT/site-react-login-live/react-controlledForms/node_modules/mysql2/lib/server.js"],"sourcesContent":["'use strict';\n\nconst net = require('net');\nconst EventEmitter = require('events').EventEmitter;\n\nconst Connection = require('./connection');\nconst ConnectionConfig = require('./connection_config');\n\n// TODO: inherit Server from net.Server\nclass Server extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = [];\n    this._server = net.createServer(this._handleConnection.bind(this));\n  }\n\n  _handleConnection(socket) {\n    const connectionConfig = new ConnectionConfig({\n      stream: socket,\n      isServer: true\n    });\n    const connection = new Connection({ config: connectionConfig });\n    this.emit('connection', connection);\n  }\n\n  listen(port) {\n    this._port = port;\n    this._server.listen.apply(this._server, arguments);\n    return this;\n  }\n\n  close(cb) {\n    this._server.close(cb);\n  }\n}\n\nmodule.exports = Server;\n"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAC,QAAD,CAAP,CAAkBC,YAAvC;;AAEA,MAAMC,UAAU,GAAGF,OAAO,CAAC,cAAD,CAA1B;;AACA,MAAMG,gBAAgB,GAAGH,OAAO,CAAC,qBAAD,CAAhC,C,CAEA;;;AACA,MAAMI,MAAN,SAAqBH,YAArB,CAAkC;EAChCI,WAAW,GAAG;IACZ;IACA,KAAKC,WAAL,GAAmB,EAAnB;IACA,KAAKC,OAAL,GAAeR,GAAG,CAACS,YAAJ,CAAiB,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAjB,CAAf;EACD;;EAEDD,iBAAiB,CAACE,MAAD,EAAS;IACxB,MAAMC,gBAAgB,GAAG,IAAIT,gBAAJ,CAAqB;MAC5CU,MAAM,EAAEF,MADoC;MAE5CG,QAAQ,EAAE;IAFkC,CAArB,CAAzB;IAIA,MAAMC,UAAU,GAAG,IAAIb,UAAJ,CAAe;MAAEc,MAAM,EAAEJ;IAAV,CAAf,CAAnB;IACA,KAAKK,IAAL,CAAU,YAAV,EAAwBF,UAAxB;EACD;;EAEDG,MAAM,CAACC,IAAD,EAAO;IACX,KAAKC,KAAL,GAAaD,IAAb;;IACA,KAAKZ,OAAL,CAAaW,MAAb,CAAoBG,KAApB,CAA0B,KAAKd,OAA/B,EAAwCe,SAAxC;;IACA,OAAO,IAAP;EACD;;EAEDC,KAAK,CAACC,EAAD,EAAK;IACR,KAAKjB,OAAL,CAAagB,KAAb,CAAmBC,EAAnB;EACD;;AAxB+B;;AA2BlCC,MAAM,CAACC,OAAP,GAAiBtB,MAAjB"},"metadata":{},"sourceType":"script"}