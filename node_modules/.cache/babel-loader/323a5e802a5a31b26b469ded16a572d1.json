{"ast":null,"code":"import _regeneratorRuntime from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/emilio/\\xC1rea de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{Fragment,useState,useEffect}from\"react\";import Planet from\"./planet\";import Form from\"./form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getPlanets(){return _getPlanets.apply(this,arguments);}function _getPlanets(){_getPlanets=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/api/planets.json\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getPlanets.apply(this,arguments);}var Planets=function Planets(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),planets=_useState2[0],setPlanets=_useState2[1];useEffect(function(){getPlanets().then(function(data){setPlanets(data['planets']);});},[]);var addPlanet=function addPlanet(new_planet){setPlanets([].concat(_toConsumableArray(planets),[new_planet]));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Planets list\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Form,{addPlanet:addPlanet}),/*#__PURE__*/_jsx(\"hr\",{}),planets.map(function(planet,index){return/*#__PURE__*/_jsx(Planet,{id:planet.id,name:planet.name,description:planet.description,img_url:planet.img_url,link:planet.link},index);})]});};export default Planets;","map":{"version":3,"names":["React","Fragment","useState","useEffect","Planet","Form","getPlanets","fetch","response","json","data","Planets","planets","setPlanets","then","addPlanet","new_planet","map","planet","index","id","name","description","img_url","link"],"sources":["/home/emilio/Área de Trabalho/OneBitCode-aulas/REACT/react-controlledForms/src/components/planets/index.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport Planet from \"./planet\";\nimport Form from \"./form\";\n\nasync function getPlanets() {\n    let response = await fetch(\"http://localhost:3000/api/planets.json\")\n    let data = await response.json()\n    return data;\n}\n\nconst Planets = () => {\n\n    const [planets, setPlanets] = useState([])\n\n    useEffect(() => {\n        getPlanets().then(data => {\n            setPlanets(data['planets'])\n        })\n    }, [])\n\n    const addPlanet = (new_planet) => {\n        setPlanets([...planets, new_planet])\n    }\n\n    return (\n        <Fragment>\n            <h3>Planets list</h3>\n            <hr />\n            <Form addPlanet={addPlanet}></Form>\n            <hr />\n            {planets.map((planet, index) =>\n                <Planet\n                    key={index}\n                    id={planet.id}\n                    name={planet.name}\n                    description={planet.description}\n                    img_url={planet.img_url}\n                    link={planet.link}\n                />\n            )}\n        </Fragment>\n    )\n}\n\nexport default Planets;"],"mappings":"oqBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,gGAEeC,W,0IAAf,6KACyBC,MAAK,CAAC,wCAAD,CAD9B,QACQC,QADR,qCAEqBA,SAAQ,CAACC,IAAT,EAFrB,QAEQC,IAFR,+CAGWA,IAHX,wD,6CAMA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAElB,cAA8BT,QAAQ,CAAC,EAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eAEAV,SAAS,CAAC,UAAM,CACZG,UAAU,GAAGQ,IAAb,CAAkB,SAAAJ,IAAI,CAAI,CACtBG,UAAU,CAACH,IAAI,CAAC,SAAD,CAAL,CAAV,CACH,CAFD,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMK,UAAS,CAAG,QAAZA,UAAY,CAACC,UAAD,CAAgB,CAC9BH,UAAU,8BAAKD,OAAL,GAAcI,UAAd,GAAV,CACH,CAFD,CAIA,mBACI,MAAC,QAAD,yBACI,oCADJ,cAEI,aAFJ,cAGI,KAAC,IAAD,EAAM,SAAS,CAAED,SAAjB,EAHJ,cAII,aAJJ,CAKKH,OAAO,CAACK,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,qBACT,KAAC,MAAD,EAEI,EAAE,CAAED,MAAM,CAACE,EAFf,CAGI,IAAI,CAAEF,MAAM,CAACG,IAHjB,CAII,WAAW,CAAEH,MAAM,CAACI,WAJxB,CAKI,OAAO,CAAEJ,MAAM,CAACK,OALpB,CAMI,IAAI,CAAEL,MAAM,CAACM,IANjB,EACSL,KADT,CADS,EAAZ,CALL,GADJ,CAkBH,CAhCD,CAkCA,cAAeR,QAAf"},"metadata":{},"sourceType":"module"}